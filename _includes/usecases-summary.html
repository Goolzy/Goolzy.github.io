{% comment %}
  ë©”ì¸ í˜ì´ì§€ìš© í™œìš©ë°©ë²• ìš”ì•½ ì»´í¬ë„ŒíŠ¸ (2ì—´ íƒ­ ë©”ë‰´ ë²„ì „)
  ì‚¬ìš©ë²•: {% include usecases-summary.html lang="ko" %}
{% endcomment %}

{% assign lang = include.lang | default: page.lang | default: 'ko' %}
{% assign data = site.data.usecases[lang] %}

{% comment %} ì–¸ì–´ë³„ ë§í¬ ë° ë¼ë²¨ {% endcomment %}
{% if lang == 'ko' %}
  {% assign usecases_link = '/inventory/usecases/' %}
  {% assign all_label = 'ì „ì²´' %}
  {% assign guide_title = 'ğŸ’¡ í™œìš© ê°€ì´ë“œ' %}
  {% assign view_all = 'ì „ì²´ ë³´ê¸°' %}
  {% assign items_suffix = 'ê°œ í™œìš©ë²•' %}
  {% assign share_title = 'ë‹¹ì‹ ì˜ í™œìš©ë°©ë²•ë„ ì•Œë ¤ì£¼ì„¸ìš”' %}
{% elsif lang == 'en' %}
  {% assign usecases_link = '/inventory/usecases/en/' %}
  {% assign all_label = 'All' %}
  {% assign guide_title = 'ğŸ’¡ Usage Guide' %}
  {% assign view_all = 'View All' %}
  {% assign items_suffix = ' use cases' %}
  {% assign share_title = 'Share your use case' %}
{% elsif lang == 'ja' %}
  {% assign usecases_link = '/inventory/usecases/ja/' %}
  {% assign all_label = 'å…¨ã¦' %}
  {% assign guide_title = 'ğŸ’¡ æ´»ç”¨ã‚¬ã‚¤ãƒ‰' %}
  {% assign view_all = 'å…¨ã¦è¦‹ã‚‹' %}
  {% assign items_suffix = 'ä»¶ã®æ´»ç”¨æ³•' %}
  {% assign share_title = 'ã‚ãªãŸã®æ´»ç”¨æ³•ã‚‚æ•™ãˆã¦ãã ã•ã„' %}
{% elsif lang == 'de' %}
  {% assign usecases_link = '/inventory/usecases/de/' %}
  {% assign all_label = 'Alle' %}
  {% assign guide_title = 'ğŸ’¡ Anwendungsbeispiele' %}
  {% assign view_all = 'Alle ansehen' %}
  {% assign items_suffix = ' Anwendungen' %}
  {% assign share_title = 'Teilen Sie Ihre Anwendung' %}
{% elsif lang == 'fr' %}
  {% assign usecases_link = '/inventory/usecases/fr/' %}
  {% assign all_label = 'Tous' %}
  {% assign guide_title = "ğŸ’¡ Guide d'utilisation" %}
  {% assign view_all = 'Voir tout' %}
  {% assign items_suffix = " cas d'usage" %}
  {% assign share_title = 'Partagez votre utilisation' %}
{% elsif lang == 'es' %}
  {% assign usecases_link = '/inventory/usecases/es/' %}
  {% assign all_label = 'Todos' %}
  {% assign guide_title = 'ğŸ’¡ GuÃ­a de uso' %}
  {% assign view_all = 'Ver todo' %}
  {% assign items_suffix = ' casos de uso' %}
  {% assign share_title = 'Comparte tu caso de uso' %}
{% elsif lang == 'pt' %}
  {% assign usecases_link = '/inventory/usecases/pt/' %}
  {% assign all_label = 'Todos' %}
  {% assign guide_title = 'ğŸ’¡ Guia de Uso' %}
  {% assign view_all = 'Ver tudo' %}
  {% assign items_suffix = ' casos de uso' %}
  {% assign share_title = 'Compartilhe seu caso de uso' %}
{% endif %}

<style>
/* í™œìš©ë°©ë²• ìš”ì•½ ì„¹ì…˜ */
.usecases-summary {
  margin: 2rem 0;
}

.usecases-summary-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 1.5rem;
  flex-wrap: wrap;
  gap: 1rem;
}

.usecases-summary-header h3 {
  margin: 0;
  color: #a855f7;
  font-size: 1.3rem;
}

.usecases-summary-link {
  display: inline-block;
  background: rgba(168, 85, 247, 0.2);
  border: 1px solid rgba(168, 85, 247, 0.4);
  color: white;
  padding: 0.5rem 1rem;
  border-radius: 8px;
  text-decoration: none;
  font-weight: 500;
  font-size: 0.9rem;
  transition: all 0.3s ease;
}

.usecases-summary-link:hover {
  background: rgba(168, 85, 247, 0.3);
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(168, 85, 247, 0.3);
}

/* 2ì—´ íƒ­ í•„í„° */
.usecases-filters {
  margin-bottom: 1.5rem;
}

.filter-row {
  display: flex;
  gap: 0.5rem;
  flex-wrap: wrap;
  margin-bottom: 0.75rem;
}

.filter-btn {
  background: rgba(10, 6, 20, 0.5);
  border: 1px solid rgba(168, 85, 247, 0.3);
  color: rgba(255, 255, 255, 0.7);
  padding: 0.5rem 1rem;
  border-radius: 20px;
  font-size: 0.85rem;
  cursor: pointer;
  transition: all 0.2s ease;
  font-family: inherit;
}

.filter-btn:hover {
  border-color: rgba(168, 85, 247, 0.5);
  color: white;
}

.filter-btn.active {
  background: rgba(168, 85, 247, 0.3);
  border-color: #a855f7;
  color: white;
  font-weight: 600;
}

/* ë‚œì´ë„ë³„ ìƒ‰ìƒ */
.filter-btn[data-level="beginner"].active {
  background: rgba(34, 197, 94, 0.3);
  border-color: #22c55e;
}

.filter-btn[data-level="intermediate"].active {
  background: rgba(59, 130, 246, 0.3);
  border-color: #3b82f6;
}

.filter-btn[data-level="advanced"].active {
  background: rgba(168, 85, 247, 0.3);
  border-color: #a855f7;
}

.filter-btn[data-level="expert"].active {
  background: rgba(239, 68, 68, 0.3);
  border-color: #ef4444;
}

/* ì¹´ë“œ ê·¸ë¦¬ë“œ */
.usecases-cards-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
  gap: 1rem;
}

/* ê°œë³„ ì¹´ë“œ */
.usecase-item-card {
  background: rgba(10, 6, 20, 0.5);
  backdrop-filter: blur(10px);
  border: 1px solid rgba(168, 85, 247, 0.2);
  border-radius: 12px;
  padding: 1.25rem;
  transition: all 0.3s ease;
}

.usecase-item-card:hover {
  border-color: rgba(168, 85, 247, 0.4);
  transform: translateY(-2px);
  box-shadow: 0 6px 20px rgba(168, 85, 247, 0.15);
}

.usecase-item-card.hidden {
  display: none;
}

.usecase-card-header {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  margin-bottom: 0.75rem;
}

.usecase-card-category {
  font-size: 1.25rem;
}

.usecase-card-title {
  font-size: 1rem;
  font-weight: 600;
  color: white;
  margin: 0;
  flex: 1;
}

.usecase-card-subtitle {
  color: rgba(255, 255, 255, 0.6);
  font-size: 0.85rem;
  margin: 0 0 0.75rem 0;
}

/* ë‚œì´ë„ ë±ƒì§€ */
.level-badge {
  font-size: 0.7rem;
  padding: 0.2rem 0.6rem;
  border-radius: 12px;
  font-weight: 600;
}

.level-badge.beginner {
  background: rgba(34, 197, 94, 0.2);
  color: #22c55e;
}

.level-badge.intermediate {
  background: rgba(59, 130, 246, 0.2);
  color: #3b82f6;
}

.level-badge.advanced {
  background: rgba(168, 85, 247, 0.2);
  color: #a855f7;
}

.level-badge.expert {
  background: rgba(239, 68, 68, 0.2);
  color: #ef4444;
}

/* ê³µìœ  ì„¹ì…˜ */
.usecases-share-section {
  margin-top: 2rem;
  text-align: center;
  padding: 1.5rem;
  background: rgba(168, 85, 247, 0.1);
  border: 1px dashed rgba(168, 85, 247, 0.3);
  border-radius: 12px;
}

.usecases-share-section p {
  margin: 0 0 1rem 0;
  color: rgba(255, 255, 255, 0.8);
}

.share-btn {
  display: inline-block;
  background: linear-gradient(135deg, #a855f7 0%, #6366f1 100%);
  color: white;
  padding: 0.75rem 1.5rem;
  border-radius: 8px;
  text-decoration: none;
  font-weight: 600;
  transition: all 0.3s ease;
}

.share-btn:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 15px rgba(168, 85, 247, 0.4);
}

/* ë¹ˆ ê²°ê³¼ ë©”ì‹œì§€ */
.no-results {
  grid-column: 1 / -1;
  text-align: center;
  padding: 2rem;
  color: rgba(255, 255, 255, 0.5);
}

@media (max-width: 768px) {
  .usecases-summary-header {
    flex-direction: column;
    align-items: flex-start;
  }

  .filter-row {
    overflow-x: auto;
    flex-wrap: nowrap;
    -webkit-overflow-scrolling: touch;
    padding-bottom: 0.5rem;
  }

  .filter-btn {
    flex-shrink: 0;
  }

  .usecases-cards-grid {
    grid-template-columns: 1fr;
  }
}
</style>

<div class="usecases-summary">
  <div class="usecases-summary-header">
    <h3>{{ guide_title }}</h3>
    <a href="{{ usecases_link }}" class="usecases-summary-link">{{ view_all }} â†’</a>
  </div>

  <!-- 2ì—´ íƒ­ í•„í„° -->
  <div class="usecases-filters">
    <!-- 1í–‰: ì¹´í…Œê³ ë¦¬ í•„í„° -->
    <div class="filter-row" id="categoryFilter">
      <button class="filter-btn active" data-category="all">{{ all_label }}</button>
      {% for category in data.categories %}
      <button class="filter-btn" data-category="{{ category.id }}">{{ category.icon }} {{ category.title | remove: category.icon | strip }}</button>
      {% endfor %}
    </div>

    <!-- 2í–‰: ë‚œì´ë„ í•„í„° -->
    <div class="filter-row" id="levelFilter">
      <button class="filter-btn active" data-level="all">{{ all_label }}</button>
      {% if lang == 'ko' %}
      <button class="filter-btn" data-level="beginner">ì´ˆê¸‰</button>
      <button class="filter-btn" data-level="intermediate">ì¤‘ê¸‰</button>
      <button class="filter-btn" data-level="advanced">ê³ ê¸‰</button>
      <button class="filter-btn" data-level="expert">ì „ë¬¸ê°€</button>
      {% elsif lang == 'en' %}
      <button class="filter-btn" data-level="beginner">Beginner</button>
      <button class="filter-btn" data-level="intermediate">Intermediate</button>
      <button class="filter-btn" data-level="advanced">Advanced</button>
      <button class="filter-btn" data-level="expert">Expert</button>
      {% elsif lang == 'ja' %}
      <button class="filter-btn" data-level="beginner">åˆç´š</button>
      <button class="filter-btn" data-level="intermediate">ä¸­ç´š</button>
      <button class="filter-btn" data-level="advanced">ä¸Šç´š</button>
      <button class="filter-btn" data-level="expert">ã‚¨ã‚­ã‚¹ãƒ‘ãƒ¼ãƒˆ</button>
      {% elsif lang == 'de' %}
      <button class="filter-btn" data-level="beginner">AnfÃ¤nger</button>
      <button class="filter-btn" data-level="intermediate">Mittelstufe</button>
      <button class="filter-btn" data-level="advanced">Fortgeschritten</button>
      <button class="filter-btn" data-level="expert">Experte</button>
      {% elsif lang == 'fr' %}
      <button class="filter-btn" data-level="beginner">DÃ©butant</button>
      <button class="filter-btn" data-level="intermediate">IntermÃ©diaire</button>
      <button class="filter-btn" data-level="advanced">AvancÃ©</button>
      <button class="filter-btn" data-level="expert">Expert</button>
      {% elsif lang == 'es' %}
      <button class="filter-btn" data-level="beginner">Principiante</button>
      <button class="filter-btn" data-level="intermediate">Intermedio</button>
      <button class="filter-btn" data-level="advanced">Avanzado</button>
      <button class="filter-btn" data-level="expert">Experto</button>
      {% elsif lang == 'pt' %}
      <button class="filter-btn" data-level="beginner">Iniciante</button>
      <button class="filter-btn" data-level="intermediate">IntermediÃ¡rio</button>
      <button class="filter-btn" data-level="advanced">AvanÃ§ado</button>
      <button class="filter-btn" data-level="expert">Especialista</button>
      {% endif %}
    </div>
  </div>

  <!-- ì¹´ë“œ ê·¸ë¦¬ë“œ -->
  <div class="usecases-cards-grid" id="usecasesGrid">
    {% for category in data.categories %}
      {% for item in category.items %}
        {% assign level_class = 'beginner' %}
        {% assign level_key = 'beginner' %}
        {% if item.type == 'ì¤‘ê¸‰' or item.type == 'Intermediate' or item.type == 'ä¸­ç´š' or item.type == 'Mittelstufe' or item.type == 'IntermÃ©diaire' or item.type == 'Intermedio' or item.type == 'IntermediÃ¡rio' %}
          {% assign level_class = 'intermediate' %}
          {% assign level_key = 'intermediate' %}
        {% elsif item.type == 'ê³ ê¸‰' or item.type == 'Advanced' or item.type == 'ä¸Šç´š' or item.type == 'Fortgeschritten' or item.type == 'AvancÃ©' or item.type == 'Avanzado' or item.type == 'AvanÃ§ado' %}
          {% assign level_class = 'advanced' %}
          {% assign level_key = 'advanced' %}
        {% elsif item.type == 'ì „ë¬¸ê°€' or item.type == 'Expert' or item.type == 'ã‚¨ã‚­ã‚¹ãƒ‘ãƒ¼ãƒˆ' or item.type == 'Experte' or item.type == 'Experto' or item.type == 'Especialista' %}
          {% assign level_class = 'expert' %}
          {% assign level_key = 'expert' %}
        {% endif %}
        <div class="usecase-item-card" data-category="{{ category.id }}" data-level="{{ level_key }}">
          <div class="usecase-card-header">
            <span class="usecase-card-category">{{ category.icon }}</span>
            <h4 class="usecase-card-title">{{ item.title }}</h4>
            <span class="level-badge {{ level_class }}">{{ item.type }}</span>
          </div>
          {% if item.subtitle %}
          <p class="usecase-card-subtitle">{{ item.subtitle }}</p>
          {% endif %}
        </div>
      {% endfor %}
    {% endfor %}
    <div class="no-results" id="noResults" style="display: none;">
      {% if lang == 'ko' %}í•´ë‹¹ ì¡°ê±´ì˜ í™œìš©ë°©ë²•ì´ ì—†ìŠµë‹ˆë‹¤.{% else %}No results found.{% endif %}
    </div>
  </div>

  <!-- ê³µìœ  ì„¹ì…˜ -->
  <div class="usecases-share-section">
    <p>{{ share_title }}</p>
    <a href="{{ usecases_link }}#user-usecases" class="share-btn">âœ¨ {{ data.page.share_btn | default: 'í™œìš©ë°©ë²• ê³µìœ í•˜ê¸°' }}</a>
  </div>
</div>

<script>
(function() {
  let activeCategory = 'all';
  let activeLevel = 'all';

  function filterCards() {
    const cards = document.querySelectorAll('.usecase-item-card');
    let visibleCount = 0;

    cards.forEach(card => {
      const cardCategory = card.dataset.category;
      const cardLevel = card.dataset.level;

      const matchCategory = activeCategory === 'all' || cardCategory === activeCategory;
      const matchLevel = activeLevel === 'all' || cardLevel === activeLevel;

      if (matchCategory && matchLevel) {
        card.classList.remove('hidden');
        visibleCount++;
      } else {
        card.classList.add('hidden');
      }
    });

    const noResults = document.getElementById('noResults');
    if (noResults) {
      noResults.style.display = visibleCount === 0 ? 'block' : 'none';
    }
  }

  // ì¹´í…Œê³ ë¦¬ í•„í„° ì´ë²¤íŠ¸
  document.querySelectorAll('#categoryFilter .filter-btn').forEach(btn => {
    btn.addEventListener('click', function() {
      document.querySelectorAll('#categoryFilter .filter-btn').forEach(b => b.classList.remove('active'));
      this.classList.add('active');
      activeCategory = this.dataset.category;
      filterCards();
    });
  });

  // ë‚œì´ë„ í•„í„° ì´ë²¤íŠ¸
  document.querySelectorAll('#levelFilter .filter-btn').forEach(btn => {
    btn.addEventListener('click', function() {
      document.querySelectorAll('#levelFilter .filter-btn').forEach(b => b.classList.remove('active'));
      this.classList.add('active');
      activeLevel = this.dataset.level;
      filterCards();
    });
  });
})();
</script>
