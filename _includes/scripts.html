{% if jekyll.environment == 'production' and site.google_analytics %}
  {% include google-analytics.html %}
{% endif %}

{%- comment -%} Auth: Firebase include when enabled {%- endcomment -%}
{% include firebase.html %}

<script async src="{{ '/assets/javascripts/main.js' | relative_url }}?v={{ site.github.build_revision | default: site.time | date: '%s' }}"></script>

{%- comment -%} Site auth layer (works with or without Firebase) {%- endcomment -%}
<script src="{{ '/assets/javascripts/auth.js' | relative_url }}?v={{ site.github.build_revision | default: site.time | date: '%s' }}"></script>

{% if site.search %}
  {%- assign search_provider = site.search_provider | default: "lunr" -%}
  {%- case search_provider -%}
    {%- when "lunr" -%}
      {% include search/lunr-search-scripts.html %}
    {%- when "algolia" -%}
      {% include search/algolia-search-scripts.html %}
  {%- endcase -%}
{% endif %}
