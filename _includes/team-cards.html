<div class="team-grid">
  {% assign members = site.data.team.members %}
  {% for m in members %}
    <div class="team-card">
      <div class="team-avatar">
        <div class="team-initial" aria-hidden="true">{{ m.name | slice: 0, 1 | upcase }}</div>
        {% if m.avatar %}
          {% assign avatar_webp = m.avatar | replace: '.png', '.webp' | replace: '.jpg', '.webp' | replace: '.jpeg', '.webp' %}
          {% assign webp_exists = site.static_files | where: 'path', avatar_webp | first %}
          <picture>
            {% if webp_exists %}<source srcset="{{ avatar_webp | relative_url }}" type="image/webp">{% endif %}
            <img src="{{ m.avatar | relative_url }}" alt="{{ m.name | escape }}" loading="lazy"
                 onload="this.closest('.team-avatar').classList.remove('no-photo'); this.previousElementSibling.style.display='none'"
                 onerror="this.closest('.team-avatar').classList.add('no-photo'); this.style.display='none'; this.previousElementSibling.style.display='grid'">
          </picture>
        {% endif %}
      </div>
      <div class="team-meta">
        <h3 class="team-name">{{ m.name }}</h3>
        {% if m.email %}<p class="team-email"><a href="mailto:{{ m.email }}">{{ m.email }}</a></p>{% endif %}
        {% if m.tagline %}<p class="team-tagline">{{ m.tagline }}</p>{% endif %}
      </div>
    </div>
  {% endfor %}
</div>

<style>
.team-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(240px, 1fr)); gap: 1.25rem; }
.team-card { display: flex; align-items: center; gap: 1rem; padding: 1rem 1.25rem; background: #fff; border: 1px solid rgba(0,0,0,0.06); border-radius: 16px; box-shadow: 0 8px 24px rgba(0,0,0,0.06); }
.team-avatar { flex: 0 0 auto; width: 88px; height: 88px; position: relative; border-radius: 50%; padding: 2px; background: linear-gradient(135deg, #7a5cff, #22c1c3); }
.team-avatar picture, .team-avatar img, .team-avatar .team-initial { width: 100%; height: 100%; display: block; border-radius: 50%; }
.team-avatar img { width: 100%; height: 100%; object-fit: cover; box-shadow: 0 4px 14px rgba(0,0,0,0.08); background: #fff; }
.team-initial { display: grid; place-items: center; background: linear-gradient(135deg, #7a5cff, #22c1c3); color: #fff; font-weight: 700; font-size: 28px; }
.team-avatar.no-photo { background: linear-gradient(135deg, rgba(122,92,255,0.5), rgba(34,193,195,0.5)); }
.team-meta { min-width: 0; }
.team-name { margin: 0 0 0.25rem; font-size: 1.1rem; }
.team-email { margin: 0 0 0.25rem; font-size: 0.95rem; }
.team-email a { text-decoration: none; }
.team-tagline { margin: 0; color: rgba(0,0,0,0.65); }
@media (prefers-color-scheme: dark) {
  .team-card { background: #1f242a; border-color: rgba(255,255,255,0.06); }
  .team-tagline { color: rgba(255,255,255,0.7); }
}
</style>